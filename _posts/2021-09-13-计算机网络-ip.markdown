---
layout: post
title: IP分类及计算
date: 2021-09-13 15:32:24.000000000 +09:00
---
<font face="黑体" size="3" color = "black">
##ip
&nbsp;&nbsp;&nbsp;<B>一个ip地址在整个因特网范围内唯一的</B>
### ip表示
#### 两级IP
IP地址由两部分组成，即网络地址和主机地址。**表示为IP地址 ::= {<网络号>,<主机号>}**  
可以根据网络地址分类为：A类地址，一般用于大型网络。B类地址，一般用于中型网络。C类地址，一般用于小型网络。D类地址为多播地址，E类地址保留今后使用。

+ A类地址：1个字节的网络号，3个字节的主机号，用于少量的大型网络；
+ B类地址：2个字节的网络号，2个字节的主机号，用于中等规模的网络；
+ C类地址：3个字节的网络号，1个字节的主机号，用于小规模的网络

A类：1.0.0.0到127.255.255.255 (二进制表示为：00000001 00000000 00000000 00000000 -- 01111111 11111111 11111111 11111111)。最后一个是广播地址。其子网掩码为255.0.0.0，每个网络只能包含 (2^24) - 2=16777214台计算机**(除去全为0的网络地址，表示该IP地址是本主机所连接到的单个网络地址（如，5.6.7.8，该主机所在的网络地址就是5.0.0.0）。再出去全为1的，表示“所有的（all）,因此全为1的主机号字段表示该网络上所有主机”)**

B类：128.0.0.0-191.255.255.255(二进制表示为：10000000 00000000 00000000 00000000--10111111 11111111 11111111 11111111)。 最后一个是广播地址。其子网掩码为255.255.0.0，每个网络最多只能包含 (2^16) - 2=65534台计算机。

C类：192.0.0.0-223.255.255.255(二进制表示为: 11000000 00000000 00000000 00000000 - 11011111 11111111 11111111 11111111)。最后一个是广播地址。其子网掩码为255.255.255.0，每个网络最多只能包含 (2^8) - 2=254台计算机。
#### 三级IP
由于两级IP不够灵活，，三级IP又增加了一个“子网号字段”。

+ 划分子网纯属一个单位内部的事情。单位对外仍然表现为没有划分子网的网络。
+ 从主机号借用若干个位作为子网号 subnet-id，而主机号 host-id 也就相应减少了若干个位。
+ 凡是从其他网络发送给本单位某个主机的 IP 数据报，仍然是根据 IP 数据报的目的网络号 net-id，先找到连接在本单位网络上的路由器。
+ 然后此路由器在收到 IP 数据报后，再按目的网络号 net-id 和子网号 subnet-id 找到目的子网。
最后就将 IP 数据报直接交付目的主机。

**IP地址 ::=｛<网络号>,<子网号>，<主机号>｝**（从主机号中借用若干位作为子网号）
 
1、当没有划分子网时，IP 地址是两级结构。

2、划分子网后 IP 地址就变成了三级结构。

3、划分子网只是把 IP 地址的主机号 host-id 这部分进行再划分，而不改变 IP 地址原来的网络号 net-id
####子网掩码(subnet mask)
从一个IP 数据报的首部并无法判断源/目的主机所连接的网络是否进行了子网划分,使用子网掩码可以找出 IP 地址中的子网部分

使用子网掩码的好处是：管网络有没有划分子网，只要把子网掩码和IP地址进行逐位的“与”运算(AND)，就立即得出网络地址来。这样在路由器处理到来的分组时就可采用同样的算法

+ 三级地址 ：  145.13.3（子网号）.10（145.13.3为子网号为3的网络的网络号，10为主机号）
+ 子网掩码：   255.255.255.0
+ 子网的网络地址：ip地址 & 子网掩码 = 145.13.3.0
